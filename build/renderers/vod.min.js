/*!
 * MediaElement.js
 * http://www.mediaelementjs.com/
 *
 * Wrapper that mimics native HTML5 MediaElement (audio and video)
 * using a variety of technologies (pure JavaScript, Flash, iframe)
 *
 * Copyright 2010-2017, John Dyer (http://j.hn/)
 * License: MIT
 *
 */
!function e(t,r,n){function o(a,i){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!i&&u)return u(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=r[a]={exports:{}};t[a][0].call(f.exports,function(e){var r=t[a][1][e];return o(r||e)},f,f.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){},{}],2:[function(e,t,r){(function(r){var n,o=void 0!==r?r:"undefined"!=typeof window?window:{},s=e(1);"undefined"!=typeof document?n=document:(n=o["__GLOBAL_DOCUMENT_CACHE@4"])||(n=o["__GLOBAL_DOCUMENT_CACHE@4"]=s),t.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{1:1}],3:[function(e,t,r){(function(e){var r;r="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(e,t,r){(function(e){!function(n){function o(e){throw new RangeError(T[e])}function s(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function a(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+s((e=e.replace(C,".")).split("."),t).join(".")}function i(e){for(var t,r,n=[],o=0,s=e.length;o<s;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<s?56320==(64512&(r=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),o--):n.push(t);return n}function u(e){return s(e,function(e){var t="";return e>65535&&(t+=U((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function l(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:E}function f(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function c(e,t,r){var n=0;for(e=r?L(e/F):e>>1,e+=L(e/t);e>R*_>>1;n+=E)e=L(e/R);return L(n+(R+1)*e/(e+w))}function h(e){var t,r,n,s,a,i,f,h,d,p,m=[],v=e.length,y=0,S=A,w=O;for((r=e.lastIndexOf(I))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&o("not-basic"),m.push(e.charCodeAt(n));for(s=r>0?r+1:0;s<v;){for(a=y,i=1,f=E;s>=v&&o("invalid-input"),((h=l(e.charCodeAt(s++)))>=E||h>L((g-y)/i))&&o("overflow"),y+=h*i,d=f<=w?b:f>=w+_?_:f-w,!(h<d);f+=E)i>L(g/(p=E-d))&&o("overflow"),i*=p;w=c(y-a,t=m.length+1,0==a),L(y/t)>g-S&&o("overflow"),S+=L(y/t),y%=t,m.splice(y++,0,S)}return u(m)}function d(e){var t,r,n,s,a,u,l,h,d,p,m,v,y,S,w,F=[];for(v=(e=i(e)).length,t=A,r=0,a=O,u=0;u<v;++u)(m=e[u])<128&&F.push(U(m));for(n=s=F.length,s&&F.push(I);n<v;){for(l=g,u=0;u<v;++u)(m=e[u])>=t&&m<l&&(l=m);for(l-t>L((g-r)/(y=n+1))&&o("overflow"),r+=(l-t)*y,t=l,u=0;u<v;++u)if((m=e[u])<t&&++r>g&&o("overflow"),m==t){for(h=r,d=E;p=d<=a?b:d>=a+_?_:d-a,!(h<p);d+=E)w=h-p,S=E-p,F.push(U(f(p+w%S,0))),h=L(w/S);F.push(U(f(h,0))),a=c(r,y,n==s),r=0,++n}++r,++t}return F.join("")}var p="object"==typeof r&&r&&!r.nodeType&&r,m="object"==typeof t&&t&&!t.nodeType&&t,v="object"==typeof e&&e;v.global!==v&&v.window!==v&&v.self!==v||(n=v);var y,S,g=2147483647,E=36,b=1,_=26,w=38,F=700,O=72,A=128,I="-",N=/^xn--/,k=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,T={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=E-b,L=Math.floor,U=String.fromCharCode;if(y={version:"1.4.1",ucs2:{decode:i,encode:u},decode:h,encode:d,toASCII:function(e){return a(e,function(e){return k.test(e)?"xn--"+d(e):e})},toUnicode:function(e){return a(e,function(e){return N.test(e)?h(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return y});else if(p&&m)if(t.exports==p)m.exports=y;else for(S in y)y.hasOwnProperty(S)&&(p[S]=y[S]);else n.punycode=y}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,s){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var u=1e3;s&&"number"==typeof s.maxKeys&&(u=s.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var f=0;f<l;++f){var c,h,d,p,m=e[f].replace(i,"%20"),v=m.indexOf(r);v>=0?(c=m.substr(0,v),h=m.substr(v+1)):(c=m,h=""),d=decodeURIComponent(c),p=decodeURIComponent(h),n(a,d)?o(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],6:[function(e,t,r){"use strict";function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var o=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,i){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?n(a(e),function(a){var i=encodeURIComponent(o(a))+r;return s(e[a])?n(e[a],function(e){return i+encodeURIComponent(o(e))}).join(t):i+encodeURIComponent(o(e[a]))}).join(t):i?encodeURIComponent(o(i))+r+encodeURIComponent(o(e)):""};var s=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],7:[function(e,t,r){"use strict";r.decode=r.parse=e(5),r.encode=r.stringify=e(6)},{5:5,6:6}],8:[function(e,t,r){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,r){if(e&&a.isObject(e)&&e instanceof n)return e;var o=new n;return o.parse(e,t,r),o}var s=e(4),a=e(9);r.parse=o,r.resolve=function(e,t){return o(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?o(e,!1,!0).resolveObject(t):t},r.format=function(e){return a.isString(e)&&(e=o(e)),e instanceof n?e.format():n.prototype.format.call(e)},r.Url=n;var i=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(f),h=["'"].concat(c),d=["%","/","?",";","#"].concat(h),p=["/","?","#"],m=/^[+a-z0-9A-Z_-]{0,63}$/,v=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},S={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=e(7);n.prototype.parse=function(e,t,r){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),o=-1!==n&&n<e.indexOf("#")?"?":"#",u=e.split(o),f=/\\/g;u[0]=u[0].replace(f,"/");var c=e=u.join(o);if(c=c.trim(),!r&&1===e.split("#").length){var b=l.exec(c);if(b)return this.path=c,this.href=c,this.pathname=b[1],b[2]?(this.search=b[2],this.query=t?E.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=i.exec(c);if(_){var w=(_=_[0]).toLowerCase();this.protocol=w,c=c.substr(_.length)}if(r||_||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var F="//"===c.substr(0,2);!F||_&&S[_]||(c=c.substr(2),this.slashes=!0)}if(!S[_]&&(F||_&&!g[_])){for(var O=-1,A=0;A<p.length;A++)-1!==(k=c.indexOf(p[A]))&&(-1===O||k<O)&&(O=k);var I,N;-1!==(N=-1===O?c.lastIndexOf("@"):c.lastIndexOf("@",O))&&(I=c.slice(0,N),c=c.slice(N+1),this.auth=decodeURIComponent(I)),O=-1;for(A=0;A<d.length;A++){var k=c.indexOf(d[A]);-1!==k&&(-1===O||k<O)&&(O=k)}-1===O&&(O=c.length),this.host=c.slice(0,O),c=c.slice(O),this.parseHost(),this.hostname=this.hostname||"";var C="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!C)for(var T=this.hostname.split(/\./),A=0,R=T.length;A<R;A++){var L=T[A];if(L&&!L.match(m)){for(var U="",j=0,x=L.length;j<x;j++)L.charCodeAt(j)>127?U+="x":U+=L[j];if(!U.match(m)){var P=T.slice(0,A),q=T.slice(A+1),M=L.match(v);M&&(P.push(M[1]),q.unshift(M[2])),q.length&&(c="/"+q.join(".")+c),this.hostname=P.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=s.toASCII(this.hostname));var H=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+H,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==c[0]&&(c="/"+c))}if(!y[w])for(var A=0,R=h.length;A<R;A++){var D=h[A];if(-1!==c.indexOf(D)){var V=encodeURIComponent(D);V===D&&(V=escape(D)),c=c.split(D).join(V)}}var z=c.indexOf("#");-1!==z&&(this.hash=c.substr(z),c=c.slice(0,z));var K=c.indexOf("?");if(-1!==K?(this.search=c.substr(K),this.query=c.substr(K+1),t&&(this.query=E.parse(this.query)),c=c.slice(0,K)):t&&(this.search="",this.query={}),c&&(this.pathname=c),g[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var H=this.pathname||"",$=this.search||"";this.path=H+$}return this.href=this.format(),this},n.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(s=E.stringify(this.query));var i=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),i&&"?"!==i.charAt(0)&&(i="?"+i),r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+o+r+i+n},n.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},n.prototype.resolveObject=function(e){if(a.isString(e)){var t=new n;t.parse(e,!1,!0),e=t}for(var r=new n,o=Object.keys(this),s=0;s<o.length;s++){var i=o[s];r[i]=this[i]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var f=u[l];"protocol"!==f&&(r[f]=e[f])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var c=Object.keys(e),h=0;h<c.length;h++){var d=c[h];r[d]=e[d]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||S[e.protocol])r.pathname=e.pathname;else{for(w=(e.pathname||"").split("/");w.length&&!(e.host=w.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==w[0]&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",m=r.search||"";r.path=p+m}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var v=r.pathname&&"/"===r.pathname.charAt(0),y=e.host||e.pathname&&"/"===e.pathname.charAt(0),E=y||v||r.host&&e.pathname,b=E,_=r.pathname&&r.pathname.split("/")||[],w=e.pathname&&e.pathname.split("/")||[],F=r.protocol&&!g[r.protocol];if(F&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===w[0]?w[0]=e.host:w.unshift(e.host)),e.host=null),E=E&&(""===w[0]||""===_[0])),y)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,_=w;else if(w.length)_||(_=[]),_.pop(),_=_.concat(w),r.search=e.search,r.query=e.query;else if(!a.isNullOrUndefined(e.search))return F&&(r.hostname=r.host=_.shift(),(C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=C.shift(),r.host=r.hostname=C.shift())),r.search=e.search,r.query=e.query,a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=_.slice(-1)[0],A=(r.host||e.host||_.length>1)&&("."===O||".."===O)||""===O,I=0,N=_.length;N>=0;N--)"."===(O=_[N])?_.splice(N,1):".."===O?(_.splice(N,1),I++):I&&(_.splice(N,1),I--);if(!E&&!b)for(;I--;I)_.unshift("..");!E||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),A&&"/"!==_.join("/").substr(-1)&&_.push("");var k=""===_[0]||_[0]&&"/"===_[0].charAt(0);if(F){r.hostname=r.host=k?"":_.length?_.shift():"";var C=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@");C&&(r.auth=C.shift(),r.host=r.hostname=C.shift())}return(E=E||r.host&&_.length)&&!k&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),a.isNull(r.pathname)&&a.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},n.prototype.parseHost=function(){var e=this.host,t=u.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{4:4,7:7,9:9}],9:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],10:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(e(3)),o={};o.version="4.1.3",o.html5media={properties:["volume","src","currentTime","muted","duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable","currentSrc","preload","bufferedBytes","bufferedTime","initialTime","startOffsetTime","defaultPlaybackRate","playbackRate","played","autoplay","loop","controls"],readOnlyProperties:["duration","paused","ended","buffered","error","networkState","readyState","seeking","seekable"],methods:["load","play","pause","canPlayType"],events:["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","suspend","abort","error","emptied","stalled","play","playing","pause","waiting","seeking","seeked","timeupdate","ended","ratechange","volumechange"],mediaTypes:["audio/mp3","audio/ogg","audio/oga","audio/wav","audio/x-wav","audio/wave","audio/x-pn-wav","audio/mpeg","audio/mp4","video/mp4","video/webm","video/ogg","video/ogv"]},n.default.mejs=o,r.default=o},{3:3}],11:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.renderer=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(e){return e&&e.__esModule?e:{default:e}}(e(10)),i=function(){function e(){n(this,e),this.renderers={},this.order=[]}return s(e,[{key:"add",value:function(e){if(void 0===e.name)throw new TypeError("renderer must contain at least `name` property");this.renderers[e.name]=e,this.order.push(e.name)}},{key:"select",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=t.length;if(t=t.length?t:this.order,!r){var n=[/^(html5|native)/i,/^flash/i,/iframe$/i],o=function(e){for(var t=0,r=n.length;t<r;t++)if(n[t].test(e))return t;return n.length};t.sort(function(e,t){return o(e)-o(t)})}for(var s=0,a=t.length;s<a;s++){var i=t[s],u=this.renderers[i];if(null!==u&&void 0!==u)for(var l=0,f=e.length;l<f;l++)if("function"==typeof u.canPlayType&&"string"==typeof e[l].type&&u.canPlayType(e[l].type))return{rendererName:u.name,src:e[l].src}}return null}},{key:"order",set:function(e){if(!Array.isArray(e))throw new TypeError("order must be an array of strings.");this._order=e},get:function(){return this._order}},{key:"renderers",set:function(e){if(null!==e&&"object"!==(void 0===e?"undefined":o(e)))throw new TypeError("renderers must be an array of objects.");this._renderers=e},get:function(){return this._renderers}}]),e}(),u=r.renderer=new i;a.default.Renderers=u},{10:10}],12:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=n(e(3)),i=n(e(2)),u=n(e(10)),l=e(11),f=e(14),c=e(13),h=function(){function t(e){o(this,t);var r=this;r.media=e,r.mediaSource=null,r.socket=null,r.sourceBuffer=null,r.queue=[],r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r)}return s(t,[{key:"reset",value:function(){var e=this;e.media.pause(),e.pause=!1,e.appending=!1,e.eos=!1,e._eos=!1,e.socket&&(e.socket.close(),e.socket=null),e.queue.length&&e.queue.splice(0,e.queue.length),e.mediaSource&&e.sourceBuffer&&(e.sourceBuffer.removeEventListener("updateend",this.onsbue),e.sourceBuffer.removeEventListener("error",this.onsbe),e.mediaSource.removeEventListener("sourceopen",e.onmso),e.mediaSource.removeEventListener("sourceclose",e.onmsc),delete e.mediaSource,e.mediaSource=null,e.sourceBuffer=null)}},{key:"start",value:function(){var e=this;(e.socket=io.connect()).on("connect",function(){var t=e.mediaSource=new MediaSource;e.onmso=e.onMediaSourceOpen.bind(e),e.onmsc=e.onMediaSourceClose.bind(e),t.addEventListener("sourceopen",e.onmso),t.addEventListener("sourceclose",e.onmsc),e.media.src=URL.createObjectURL(t),e.media.play()})}},{key:"retry",value:function(){var e=this;e.offset=e._offset,e.reset(),e.start()}},{key:"setSrc",value:function(e){var t=this;t.reset(),t.src=e,t.offset=0,t._offset=0,t.speed=1,t.duration=0,t.start()}},{key:"setCurrentTime",value:function(e){this.offset=e,this.reset(),this.start()}},{key:"setPlaybackRate",value:function(e){var t=this;e!=t.speed&&(t.offset=t.getCurrentTime(),t.speed=e,t.reset(),t.start())}},{key:"getSrc",value:function(){return this.src}},{key:"getCurrentTime",value:function(){var e=this;return e._offset=e.offset+e.media.currentTime*e.speed,e._offset}},{key:"getPlaybackRate",value:function(){return this.speed}},{key:"getDuration",value:function(){return this.duration}},{key:"getBuffered",value:function(){var e=this,t=e.media.buffered;return{start:function(){return e.offset+t.start(0)},end:function(){return e.offset+t.end(0)*e.speed},length:t.length}}},{key:"onMediaSourceOpen",value:function(){var t=this;t.sourceBuffer=t.mediaSource.addSourceBuffer('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t.queue=[],t.sourceBuffer.addEventListener("updateend",this.onsbue),t.sourceBuffer.addEventListener("error",this.onsbe);var r=e(8);t.socket.emit("start",{file:r.parse(t.src).pathname,offset:t.offset,speed:Math.log2(t.speed)}),t.socket.on("data",function(e){t.socket.emit("ack",e.seq),t.queue.push(e),t.appending||t.doAppend()}),t.socket.on("mediainfo",function(e){t.duration=parseInt(e.format.duration)}),t.socket.on("verbose",function(e){}),t.socket.on("eos",function(){t.eos=!0}),t.socket.on("error",function(){t.retry()}),t.socket.on("disconnect",function(e){"io client disconnect"!=e&&"io server disconnect"!=e&&t.retry()})}},{key:"onMediaSourceClose",value:function(){}},{key:"doEos",value:function(){var e=this;if(e.eos&&!e._eos){if("open"===e.mediaSource.readyState&&!e.sourceBuffer.updating)try{e.mediaSource.endOfStream(),e._eos=!0}catch(e){}e._eos||setTimeout(function(){e.doEos()},200)}}},{key:"doAppend",value:function(){var e=this,t=!1;if(!e.sourceBuffer.updating&&e.queue.length){var r=e.queue.shift();try{e.sourceBuffer.appendBuffer(r.buffer),t=!0}catch(t){e.queue.unshift(buffer)}e.queue.length>10?e.pause||(e.pause=!0,e.socket.emit("pause")):e.pause&&(e.pause=!1,e.socket.emit("continue"))}e.appending=t,e.queue.length&&!t&&setTimeout(function(){e.doAppend()},100)}},{key:"onSBUpdateEnd",value:function(){var e=this;e.queue.length||!e.eos||e.sourceBuffer.updating?e.doAppend():e.doEos()}},{key:"onSBUpdateError",value:function(){return this.retry(),!0}}]),t}(),d={name:"vod",options:{prefix:"vod"},canPlayType:function(e){var t=i.default.createElement("video");return c.IS_ANDROID&&/\/mp(3|4)$/i.test(e)||~["application/x-mpegurl","vnd.apple.mpegurl","audio/mpegurl","audio/hls","video/hls"].indexOf(e.toLowerCase())&&c.SUPPORTS_NATIVE_HLS?"yes":t.canPlayType?t.canPlayType(e.toLowerCase()).replace(/no/,""):""},create:function(e,t,r){var n=e.id+"_"+t.prefix,o=null,s=null;void 0===e.originalNode||null===e.originalNode?(o=i.default.createElement("audio"),e.appendChild(o)):o=e.originalNode,o.setAttribute("id",n),s=new h(o);for(var a=u.default.html5media.properties,c=0,d=a.length;c<d;c++)!function(e){var t=""+e.substring(0,1).toUpperCase()+e.substring(1);o["get"+t]=function(){if(null==s)return null;switch(e){case"src":return s.getSrc();case"playbackRate":return s.getPlaybackRate();case"duration":return s.getDuration();case"currentTime":return s.getCurrentTime();case"buffered":return s.getBuffered();default:return o[e]}},o["set"+t]=function(t){if(-1===u.default.html5media.readOnlyProperties.indexOf(e)&&null!=s)switch(e){case"src":s.setSrc(t);break;case"playbackRate":s.setPlaybackRate(t);break;case"currentTime":s.setCurrentTime(t);break;default:o[e]=t}}}(a[c]);for(var p=u.default.html5media.events.concat(["click","mouseover","mouseout"]),m=0,v=p.length;m<v;m++)!function(t){o.addEventListener(t,function(t){if("error"==t.type)return!0;var r=(0,f.createEvent)(t.type,e);e.dispatchEvent(r)})}(p[m]);if(o.setSize=function(e,t){return o.style.width=e+"px",o.style.height=t+"px",o},o.hide=function(){return o.style.display="none",o},o.show=function(){return o.style.display="",o},r&&r.length>0)for(var y=0,S=r.length;y<S;y++)if(l.renderer.renderers[t.prefix].canPlayType(r[y].type)){s.setSrc(r[y].src);break}var g=(0,f.createEvent)("rendererready",o);return e.dispatchEvent(g),o}};a.default.VODElement=u.default.VODElement=d,l.renderer.add(d)},{10:10,11:11,13:13,14:14,2:2,3:3,8:8}],13:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0}),r.cancelFullScreen=r.requestFullScreen=r.isFullScreen=r.FULLSCREEN_EVENT_NAME=r.HAS_NATIVE_FULLSCREEN_ENABLED=r.HAS_TRUE_NATIVE_FULLSCREEN=r.HAS_IOS_FULLSCREEN=r.HAS_MS_NATIVE_FULLSCREEN=r.HAS_MOZ_NATIVE_FULLSCREEN=r.HAS_WEBKIT_NATIVE_FULLSCREEN=r.HAS_NATIVE_FULLSCREEN=r.SUPPORTS_NATIVE_HLS=r.SUPPORT_POINTER_EVENTS=r.HAS_MSE=r.IS_STOCK_ANDROID=r.IS_SAFARI=r.IS_FIREFOX=r.IS_CHROME=r.IS_EDGE=r.IS_IE=r.IS_ANDROID=r.IS_IOS=r.IS_IPOD=r.IS_IPHONE=r.IS_IPAD=r.UA=r.NAV=void 0;for(var o=n(e(3)),s=n(e(2)),a=n(e(10)),i=r.NAV=o.default.navigator,u=r.UA=i.userAgent.toLowerCase(),l=r.IS_IPAD=/ipad/i.test(u)&&!o.default.MSStream,f=r.IS_IPHONE=/iphone/i.test(u)&&!o.default.MSStream,c=r.IS_IPOD=/ipod/i.test(u)&&!o.default.MSStream,h=(r.IS_IOS=/ipad|iphone|ipod/i.test(u)&&!o.default.MSStream,r.IS_ANDROID=/android/i.test(u)),d=r.IS_IE=/(trident|microsoft)/i.test(i.appName),p=(r.IS_EDGE="msLaunchUri"in i&&!("documentMode"in s.default)),m=r.IS_CHROME=/chrome/i.test(u),v=r.IS_FIREFOX=/firefox/i.test(u),y=r.IS_SAFARI=/safari/i.test(u)&&!m,S=r.IS_STOCK_ANDROID=/^mozilla\/\d+\.\d+\s\(linux;\su;/i.test(u),g=(r.HAS_MSE="MediaSource"in o.default),E=(r.SUPPORT_POINTER_EVENTS=function(){var e=s.default.createElement("x"),t=s.default.documentElement,r=o.default.getComputedStyle;if(!("pointerEvents"in e.style))return!1;e.style.pointerEvents="auto",e.style.pointerEvents="x",t.appendChild(e);var n=r&&"auto"===r(e,"").pointerEvents;return e.remove(),!!n}()),b=["source","track","audio","video"],_=void 0,w=0,F=b.length;w<F;w++)_=s.default.createElement(b[w]);var O=r.SUPPORTS_NATIVE_HLS=y||h&&(m||S)||d&&/edge/i.test(u),A=void 0!==_.webkitEnterFullscreen,I=void 0!==_.requestFullscreen;A&&/mac os x 10_5/i.test(u)&&(I=!1,A=!1);var N=void 0!==_.webkitRequestFullScreen,k=void 0!==_.mozRequestFullScreen,C=void 0!==_.msRequestFullscreen,T=N||k||C,R=T,L="",U=void 0,j=void 0,x=void 0;k?R=s.default.mozFullScreenEnabled:C&&(R=s.default.msFullscreenEnabled),m&&(A=!1),T&&(N?L="webkitfullscreenchange":k?L="mozfullscreenchange":C&&(L="MSFullscreenChange"),r.isFullScreen=U=function(){return k?s.default.mozFullScreen:N?s.default.webkitIsFullScreen:C?null!==s.default.msFullscreenElement:void 0},r.requestFullScreen=j=function(e){N?e.webkitRequestFullScreen():k?e.mozRequestFullScreen():C&&e.msRequestFullscreen()},r.cancelFullScreen=x=function(){N?s.default.webkitCancelFullScreen():k?s.default.mozCancelFullScreen():C&&s.default.msExitFullscreen()});var P=r.HAS_NATIVE_FULLSCREEN=I,q=r.HAS_WEBKIT_NATIVE_FULLSCREEN=N,M=r.HAS_MOZ_NATIVE_FULLSCREEN=k,H=r.HAS_MS_NATIVE_FULLSCREEN=C,B=r.HAS_IOS_FULLSCREEN=A,D=r.HAS_TRUE_NATIVE_FULLSCREEN=T,V=r.HAS_NATIVE_FULLSCREEN_ENABLED=R,z=r.FULLSCREEN_EVENT_NAME=L;r.isFullScreen=U,r.requestFullScreen=j,r.cancelFullScreen=x,a.default.Features=a.default.Features||{},a.default.Features.isiPad=l,a.default.Features.isiPod=c,a.default.Features.isiPhone=f,a.default.Features.isiOS=a.default.Features.isiPhone||a.default.Features.isiPad,a.default.Features.isAndroid=h,a.default.Features.isIE=d,a.default.Features.isEdge=p,a.default.Features.isChrome=m,a.default.Features.isFirefox=v,a.default.Features.isSafari=y,a.default.Features.isStockAndroid=S,a.default.Features.hasMSE=g,a.default.Features.supportsNativeHLS=O,a.default.Features.supportsPointerEvents=E,a.default.Features.hasiOSFullScreen=B,a.default.Features.hasNativeFullscreen=P,a.default.Features.hasWebkitNativeFullScreen=q,a.default.Features.hasMozNativeFullScreen=M,a.default.Features.hasMsNativeFullScreen=H,a.default.Features.hasTrueNativeFullScreen=D,a.default.Features.nativeFullScreenEnabled=V,a.default.Features.fullScreenEventName=z,a.default.Features.isFullScreen=U,a.default.Features.requestFullScreen=j,a.default.Features.cancelFullScreen=x},{10:10,2:2,3:3}],14:[function(e,t,r){"use strict";function n(e){if("string"!=typeof e)throw new Error("Argument passed must be a string");var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return e.replace(/[&<>"]/g,function(e){return t[e]})}function o(e,t){var r=this,n=arguments,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("function"!=typeof e)throw new Error("First argument must be a function");if("number"!=typeof t)throw new Error("Second argument must be a numeric value");var s=void 0;return function(){var a=r,i=n,u=o&&!s;clearTimeout(s),s=setTimeout(function(){s=null,o||e.apply(a,i)},t),u&&e.apply(a,i)}}function s(e){return Object.getOwnPropertyNames(e).length<=0}function a(e,t){var r=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/,n={d:[],w:[]};return(e||"").split(" ").forEach(function(e){var o=e+(t?"."+t:"");o.startsWith(".")?(n.d.push(o),n.w.push(o)):n[r.test(e)?"w":"d"].push(o)}),n.d=n.d.join(" "),n.w=n.w.join(" "),n}function i(e,t){if("string"!=typeof e)throw new Error("Event name must be a string");var r=e.match(/([a-z]+\.([a-z]+))/i),n={target:t};return null!==r&&(e=r[1],n.namespace=r[2]),new window.CustomEvent(e,{detail:n})}function u(e,t){return!!(e&&t&&2&e.compareDocumentPosition(t))}function l(e){return"string"==typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r.escapeHTML=n,r.debounce=o,r.isObjectEmpty=s,r.splitEvents=a,r.createEvent=i,r.isNodeAfter=u,r.isString=l;var f=function(e){return e&&e.__esModule?e:{default:e}}(e(10));f.default.Utils=f.default.Utils||{},f.default.Utils.escapeHTML=n,f.default.Utils.debounce=o,f.default.Utils.isObjectEmpty=s,f.default.Utils.splitEvents=a,f.default.Utils.createEvent=i,f.default.Utils.isNodeAfter=u,f.default.Utils.isString=l},{10:10}]},{},[12]);